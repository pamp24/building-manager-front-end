<div class="row">
  <div class="col-xl-8 col-lg-12 help-main" [ngClass]="selectedView">
    <div class="card">
      <div class="card-body">
        <nav class="navbar justify-content-between p-0 align-items-center">
          <h5>Ticket List</h5>
          <div class="btn-group btn-group-sm help-filter" role="group" aria-label="button groups sm">
            <a class="btn btn-light-secondary" [ngClass]="{ active: selectedView === 'sm-view' }" (click)="selectedView = 'sm-view'">
              <i class="m-0" antIcon type="appstore" theme="outline"></i>
            </a>
            <a class="btn btn-light-secondary" [ngClass]="{ active: selectedView === 'md-view' }" (click)="selectedView = 'md-view'">
              <i class="m-0" antIcon type="bars" theme="outline"></i>
            </a>
            <a class="btn btn-light-secondary" [ngClass]="{ active: selectedView === 'large-view' }" (click)="selectedView = 'large-view'">
              <i class="m-0" antIcon type="menu" theme="outline"></i>
            </a>
          </div>
        </nav>
      </div>
    </div>
    @for (list of ticketCards; track list) {
      <div class="card ticket-card" [ngClass]="list.type">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-auto mb-3 mb-sm-0">
              <div class="d-sm-inline-block d-flex align-items-center">
                <img class="media-object wid-60 img-radius" src="assets/images/user/avatar-1.jpg" alt="Generic placeholder image " />
                <div class="ms-3 ms-sm-0">
                  <ul class="text-sm-center list-unstyled mt-2 mb-0 d-inline-block">
                    <li class="list-unstyled-item"><a href="javascript:" class="link-secondary">1 Ticket</a></li>
                    <li class="list-unstyled-item d-flex align-items-center justify-content-center">
                      <a href="javascript:" class="link-danger d-flex align-items-center">
                        <i class="d-flex me-1" antIcon type="heart" theme="fill"></i>
                        3
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="popup-trigger">
                <div class="h5 font-weight-bold">
                  {{ list.name }}
                  <small class="badge bg-light-secondary ms-2">Replied</small>
                </div>
                <div class="help-sm-hidden">
                  <ul class="list-unstyled mt-2 mb-0 text-muted d-sm-flex d-block align-items-center">
                    <li class="d-sm-flex align-items-center d-block mt-1 me-2">
                      <img src="assets/images/admin/p1.jpg" class="wid-20 rounded me-2 img-fluid" />
                      Piaf able
                    </li>
                    <li class="d-sm-flex align-items-center d-block mt-1 me-2">
                      <img src="assets/images/user/avatar-5.jpg" class="wid-20 rounded me-2 img-fluid" />
                      Assigned to
                      <b class="ms-1">Robert alia</b>
                    </li>
                    <li class="d-flex align-items-center mt-1 me-2">
                      <i class="wid-20 text-center f-14 me-1 d-flex justify-content-center" antIcon type="calendar" theme="outline"></i>
                      Updated 22 hours ago
                    </li>
                    <li class="d-flex align-items-center mt-1 me-2">
                      <i class="wid-20 text-center f-14 me-1 d-flex justify-content-center" antIcon type="message" theme="outline"></i>
                      9
                    </li>
                  </ul>
                </div>
                <div class="h5 mt-3">
                  <i class="f-16 me-1" antIcon type="lock" theme="fill"></i>
                  Theme customisation issue
                </div>
                <div class="help-md-hidden">
                  <div class="comment-content mb-3 p-3">
                    <h6>
                      <img src="assets/images/user/avatar-5.jpg" class="wid-20 avatar me-2 rounded" />
                      Last comment from
                      <a href="javascript:" class="link-secondary ms-1">Robert alia:</a>
                    </h6>
                    <p class="mb-0">
                      <b>hello John lui</b>
                      ,
                      <br />
                      you need to create
                      <b>"toolbar-options" div only</b>
                      once in a page&nbsp;in your code,
                      <br />
                      this div fill found every "td" tag in your page,
                      <br />
                      just remove those things and also in option button add
                    </p>
                  </div>
                </div>
              </div>
              <div class="mt-2 d-flex">
                <a href="javascript:" class="me-2 btn btn-sm btn-light-primary d-flex align-items-center" (click)="addContact(content)">
                  <i class="mx-1 d-flex" antIcon type="eye" theme="outline"></i>
                  View Ticket
                </a>
                <a href="javascript:" class="me-3 btn btn-sm btn-light-danger d-flex align-items-center">
                  <i class="mx-1 d-flex" antIcon type="delete" theme="outline"></i>
                  Delete
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
  <div class="col-xl-4 col-lg-12">
    <div class="right-side">
      <div class="card mb-3">
        <div class="card-header">
          <h5>Ticket Categories</h5>
        </div>
        <ul class="list-group list-group-flush pb-2">
          @for (ticket of tickets; track ticket) {
            <li class="list-group-item">
              <div class="d-inline-block">
                <img src="{{ ticket.src }}" alt="ticket-img" class="wid-20 rounded me-1 img-fluid" />
                <a href="javascript:" class="link-secondary">{{ ticket.name }}</a>
              </div>
              <div class="float-end">
                <a
                  href="javascript:"
                  class="badge {{ ticket.background }} rounded-circle me-1"
                  title="total"
                  data-original-title="tooltip on top"
                >
                  {{ ticket.number }}
                </a>
                <a href="javascript:" class="badge bg-light-secondary rounded-circle me-0" title="Total Ticket">3</a>
              </div>
            </li>
          }
        </ul>
      </div>
      <div class="card">
        <div class="card-header pt-4 pb-4">
          <h5>Support Aggent</h5>
        </div>
        <ul class="list-group list-group-flush pb-2">
          @for (ticket of agents; track ticket) {
            <li class="list-group-item">
              <div class="d-inline-block">
                <img src="{{ ticket.src }}" alt="ticket-img" class="wid-20 rounded me-1 img-fluid" />
                <a href="javascript:" class="link-secondary">{{ ticket.name }}</a>
              </div>
              <div class="float-end">
                <a
                  href="javascript:"
                  class="badge {{ ticket.background }} rounded-circle me-1"
                  title="total"
                  data-original-title="tooltip on top"
                >
                  {{ ticket.number }}
                </a>
                <a href="javascript:" class="badge bg-light-secondary rounded-circle me-0" title="Total Ticket">3</a>
              </div>
            </li>
          }
        </ul>
      </div>
    </div>
  </div>
</div>

<ng-template #content let-offcanvas>
  <div class="offcanvas-header border-bottom">
    <h5 class="modal-title">
      Chrome bug The page uses a roller to slide under a black block
      <span class="badge bg-light-danger text-uppercase ms-2 f-12">Private</span>
    </h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="offcanvas.dismiss('Cross click')"></button>
  </div>
  <app-scrollbar [customStyle]="'calc(100vh - 90px)'">
    <div class="offcanvas-body border-bottom px-4">
      <div class="row">
        <div class="col-md-7">
          <span type="button" class="badge bg-light-success me-1">
            <i class="me-1" antIcon type="check" theme="outline"></i>
            Closed
          </span>
          <p class="list-inline-item mb-0">
            <img src="assets/images/admin/p1.jpg" alt="" class="wid-20 rounded me-1 img-fluid" />
            Alpha pro
          </p>
        </div>
        <div class="col-md-5 text-end">
          <p class="d-inline-block mb-0">
            <i class="wid-20 text-center f-16 me-2" antIcon type="calendar" theme="outline"></i>
            <label class="mb-0">Jan,1st,2019</label>
          </p>
        </div>
      </div>
    </div>
    <div class="offcanvas-body border-bottom px-4">
      <div class="row">
        <div class="col-auto">
          <img class="media-object wid-60 img-radius" src="assets/images/user/avatar-5.jpg" alt="Generic placeholder image " />
        </div>
        <div class="col">
          <app-admin-alert type="warning" dismiss="true">
            <strong>Note!</strong>
            This ticket is closed. If you want to re-open it, just post a reply below.
          </app-admin-alert>
          <quill-editor>
            <div quill-editor-toolbar>
              <span class="ql-formats">
                <select class="ql-header" [title]="'header'">
                  <option value="1"></option>
                  <option value="2"></option>
                  <option value="3"></option>
                  <option value="4"></option>
                  <option value="5"></option>
                  <option value="6"></option>
                  <option selected="selected"></option>
                </select>
              </span>
              <span class="ql-formats">
                <button class="ql-bold" [title]="'Bold'"></button>
                <button class="ql-underline" [title]="'Italic'"></button>
                <button class="ql-italic" [title]="'strike'"></button>
                <button class="ql-link" [title]="'link'"></button>
              </span>
              <span class="ql-formats">
                <button class="ql-list" value="ordered"></button>
                <button class="ql-list" value="bullet"></button>
              </span>
              <span class="ql-formats">
                <button class="ql-clean"></button>
              </span>
            </div>
          </quill-editor>
          <div class="btn-block mt-3">
            <div class="btn-group me-2" ngbDropdown>
              <button type="button" class="btn btn-sm btn-light-primary">Primary</button>
              <button type="button" class="btn btn-sm btn-light-primary dropdown-toggle-split" ngbDropdownToggle>
                <span class="sr-only">Toggle Dropdown</span>
              </button>
              <div ngbDropdownMenu>
                <a ngbDropdownItem>Action</a>
                <a ngbDropdownItem>Another action</a>
                <a ngbDropdownItem>Something else here</a>
                <div class="dropdown-divider"></div>
                <a ngbDropdownItem>Separated link</a>
              </div>
            </div>
            <label class="btn btn-sm btn-light-secondary" for="mod-flup">
              <i class="me-1" antIcon type="link" theme="outline"></i>
              Add Atachment
            </label>
            <input type="file" name="file" class="d-none" id="mod-flup" />
          </div>
        </div>
      </div>
    </div>
    @for (list of profiles; track list) {
      <div class="offcanvas-body border-bottom px-4">
        <div class="row align-items-center">
          <div class="col-auto">
            <img class="media-object wid-60 img-radius" src="assets/images/user/avatar-5.jpg" alt="Generic placeholder image " />
          </div>
          <div class="col">
            <h6 class="mb-0">
              Support Agent name
              <span class="badge bg-light-secondary ms-2">Support Agent</span>
            </h6>
            <label class="text-muted">5 Month ago</label>
          </div>
          <div class="col-auto">
            <ul class="list-unstyled mb-0">
              <li class="d-inline-block me-1">
                <a href="javascript:"><i class="text-muted d-flex me-2" antIcon type="edit" theme="outline"></i></a>
              </li>
              <li class="d-inline-block">
                <a href="javascript"><i class="text-muted d-flex" antIcon type="delete" theme="outline"></i></a>
              </li>
            </ul>
          </div>
        </div>
        <div class="mt-3">
          <p>hello John lui,</p>
          <p>
            you need to create
            <strong>"toolbar-options" div only once</strong>
            in a page in your code, this div fill found
            <strong>every "td"</strong>
            tag in your page, just remove those things.
          </p>
          <p>and also</p>
          <p>
            in option button add "
            <strong>p-0</strong>
            " class in "
            <strong>I</strong>
            " tag
          </p>
          <p>to</p>
          <p></p>
          <p>Thanks...</p>
        </div>
        @if (list.uploadImage === true) {
          <div class="row text-center mb-2">
            @for (images of img; track images) {
              <div class="col-xl-2 col-lg-3 col-sm-4 col-xs-12">
                <img src="{{ images.image }}" class="img-fluid m-b-10" />
              </div>
            }
          </div>
        }
      </div>
    }
  </app-scrollbar>
</ng-template>
